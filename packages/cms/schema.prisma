// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        Int       @id @default(autoincrement())
  name      String    @default("")
  email     String    @unique @default("")
  password  String
  role      String
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
}

model Audio {
  id            Int       @id @default(autoincrement())
  name          String    @default("")
  file_filesize Int?
  file_filename String?
  description   String    @default("")
  createdAt     DateTime?
  updatedAt     DateTime? @updatedAt
}

model Video {
  id            Int       @id @default(autoincrement())
  name          String    @default("")
  file_filesize Int?
  file_filename String?
  coverPhoto    Photo?    @relation("Video_coverPhoto", fields: [coverPhotoId], references: [id])
  coverPhotoId  Int?      @map("coverPhoto")
  description   String    @default("")
  createdAt     DateTime?
  updatedAt     DateTime? @updatedAt

  @@index([coverPhotoId])
}

model Photo {
  id                    Int       @id @default(autoincrement())
  name                  String    @default("")
  imageFile_filesize    Int?
  imageFile_extension   String?
  imageFile_width       Int?
  imageFile_height      Int?
  imageFile_id          String?
  createdAt             DateTime? @default(now())
  updatedAt             DateTime? @updatedAt
  from_Video_coverPhoto Video[]   @relation("Video_coverPhoto")
}

model Karaoke {
  id                  Int     @id @default(autoincrement())
  name                String  @default("")
  quote               String  @default("")
  audio_filesize      Int?
  audio_filename      String?
  imageFile_filesize  Int?
  imageFile_extension String?
  imageFile_width     Int?
  imageFile_height    Int?
  imageFile_id        String?
  audioLink           String  @default("")
  imageLink           String  @default("")
  muteHint            Boolean @default(false)
}

model SubtitledAudio {
  id             Int     @id @default(autoincrement())
  name           String  @default("")
  audio_filesize Int?
  audio_filename String?
  webVtt         String  @default("WEBVTT\n\n00:00:00.000 --> 00:00:02.500\n我想和14歲的妳說\n\n00:00:03.500 --> 00:00:12.500\n妳經歷了很多事，有些是好事，有些的確不太好，也帶來某種難以言喻的創傷。")
}

model ThreeStoryPoint {
  id                    Int     @id @default(autoincrement())
  name                  String  @default("")
  model_filesize        Int?
  model_filename        String?
  desktopModel_filesize Int?
  desktopModel_filename String?
  lightModel_filesize   Int?
  lightModel_filename   String?
  captions              Json?   @default("[]")
  audios                Json?   @default("[{\"urls\":[],\"preload\":\"auto\"}]")
  cameraRig             Json?   @default("{\"pois\":[]}")
  debugMode             Boolean @default(false)
}

model DualSlide {
  id     Int    @id @default(autoincrement())
  name   String @default("")
  slides Json?  @default("[{\"content\":[\"\"],\"imgSrc\":\"\"}]")
}

model ScrollableVideo {
  id             Int    @id @default(autoincrement())
  name           String @default("")
  videoUrl       String @default("")
  mobileVideoUrl String @default("")
  editorState    Json?  @default("{\"captions\":[],\"video\":{\"sources\":[{\"mediaType\":\"video/mp4\",\"src\":\"\"}]}}")
}
